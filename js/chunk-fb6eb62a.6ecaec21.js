(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb6eb62a"],{1308:function(e,t,s){},"4c33":function(e,t,s){},6378:function(e,t,s){"use strict";s("4c33")},8451:function(e,t,s){"use strict";s("1308")},d691:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{id:"user-list",fluid:"",tag:"section"}},[s("h1",{staticClass:"text-center"},[e._v("User List")]),s("v-row",[s("v-col",{staticClass:"text-left"},[s("v-btn",{staticClass:"mb-5",attrs:{id:"myButton",color:"primary",to:"/users/add"}},[e._v("Add!"),s("v-icon",[e._v("mdi-plus-box-multiple")])],1)],1),s("v-col",{staticClass:"text-right"},[s("v-dialog",{attrs:{persistent:"","max-width":"290",disabled:e.isValid},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-btn",e._g(e._b({attrs:{id:"deleteUser",color:"primary",dark:""}},"v-btn",i,!1),a),[e._v("\n            Delete! "),s("v-icon",[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"text-h5"},[e._v("\n            Use Google's location service?\n          ")]),s("v-card-text",[e._v("Let Google help apps determine location. This means sending\n            anonymous location data to Google, even when no apps are\n            running.")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n              Disagree\n            ")]),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.deleteItem}},[e._v("\n              Agree\n            ")])],1)],1)],1)],1)],1),s("v-card",[s("v-card-title",[e._v("\n      Nutrition\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search",filled:"",rounded:"",dense:"","single-line":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.seachItem.apply(null,arguments)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,search:e.search,page:e.page,"items-per-page":e.limit,options:e.options,pageCount:e.numberOfPages,"server-items-length":e.totalPassengers,loading:e.loading},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header.checkedAll",fn:function(t){t.header;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectAll)?e._i(e.selectAll,null)>-1:e.selectAll},on:{change:function(t){var s=e.selectAll,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=null,n=e._i(s,r);a.checked?n<0&&(e.selectAll=s.concat([r])):n>-1&&(e.selectAll=s.slice(0,n).concat(s.slice(n+1)))}else e.selectAll=i}}})]}},{key:"body",fn:function(t){var a=t.items;return[s("tbody",e._l(a,(function(t){return s("tr",{key:t.id},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userIds,expression:"userIds"}],attrs:{type:"checkbox"},domProps:{value:t._id,checked:Array.isArray(e.userIds)?e._i(e.userIds,t._id)>-1:e.userIds},on:{change:[function(s){var a=e.userIds,i=s.target,r=!!i.checked;if(Array.isArray(a)){var n=t._id,o=e._i(a,n);i.checked?o<0&&(e.userIds=a.concat([n])):o>-1&&(e.userIds=a.slice(0,o).concat(a.slice(o+1)))}else e.userIds=r},e.afterChecked]}})]),s("td",[e._v(e._s(t._id))]),s("td",[e._v(e._s(t.username))]),s("td",[e._v(e._s(t.firstName))]),s("td",[e._v(e._s(t.lastName))]),s("td",[e._v(e._s(t.role[0]))]),s("td",[s("v-btn",{staticClass:"px-1 ml-1",attrs:{color:"success",fab:"","x-small":"",to:{name:"UserUpdate",params:{userId:t._id}}}},[s("v-icon",[e._v("mdi-pencil")])],1)],1)])})),0)]}}])})],1)],1)},i=[],r=s("2f62");const{usersApi:n}=s("f8c8");var o={name:"UserList",data(){return{headers:[{text:"dsada",align:"start",sortable:!1,value:"checkedAll"},{text:"Id",value:"_id",sortable:!1},{text:"Username",value:"username"},{text:"Firstname",value:"firstName"},{text:"Lastname",value:"lastName"},{text:"Roles",value:"role",sortable:!1},{text:"Action",value:"action",sortable:!1}],search:"",users:[],userIds:[],isValid:!0,booleanValue:!1,checkedAll:!1,dialog:!1,limit:5,page:1,totalPassengers:0,options:{},sortBy:"_id",sortDesc:"-",numberOfPages:0}},mounted(){this.getUser()},watch:{options:{handler(e){this.page=e.page,this.limit=e.itemsPerPage,this.sortBy=e.sortBy[0]||"_id",this.sortDesc=!1===e.sortDesc[0]?"":"-",this.getUser()}},deep:!0},computed:{selectAll:{get:function(){return!!this.users&&this.userIds.length===this.users.length},set:function(e){const t=[];e&&this.users.forEach(e=>{t.push(e._id)}),this.userIds=t,this.afterChecked()}}},methods:{...Object(r["c"])({setUserList:"SET_USER_LIST"}),getUser:async function(){const e=await n.paging({search:this.search.trim(),page:this.page,limit:this.limit,sort_column:this.sortBy,sort_direction:this.sortDesc});if(200===e.data.code){const{docs:t,limit:s,page:a,totalDocs:i}=e.data.users;t.length?(this.page=a,this.numberOfPages=s,this.totalPassengers=i,this.users=t,this.setUserList(this.users)):this.$notificate.showMessage({content:"DATA NOT FOUND",color:"info"})}},deleteItem:async function(){this.dialog=!1;const e=await n.deleteUser({userIds:this.userIds});200===e.data.code&&(this.$notificate.showMessage({content:e.data.message,color:"info"}),this.getUser())},afterChecked(){this.userIds.length?this.isValid=!1:this.isValid=!0},seachItem(){this.page=1,this.getUser()}}},l=o,c=(s("6378"),s("8451"),s("2877")),d=s("6544"),u=s.n(d),h=s("8336"),v=s("b0af"),p=s("99d9"),m=s("62ad"),g=s("a523"),f=s("8fea"),_=s("169a"),b=s("132d"),k=s("0fd9"),y=s("2fa4"),x=s("8654"),A=Object(c["a"])(l,a,i,!1,null,"77b15425",null);t["default"]=A.exports;u()(A,{VBtn:h["a"],VCard:v["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:m["a"],VContainer:g["a"],VDataTable:f["a"],VDialog:_["a"],VIcon:b["a"],VRow:k["a"],VSpacer:y["a"],VTextField:x["a"]})}}]);
//# sourceMappingURL=chunk-fb6eb62a.6ecaec21.js.map