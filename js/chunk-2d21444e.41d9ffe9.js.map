{"version":3,"sources":["webpack:///./src/views/dashboard/books/Add.vue?bd36","webpack:///src/views/dashboard/books/Add.vue","webpack:///./src/views/dashboard/books/Add.vue?ba2c","webpack:///./src/views/dashboard/books/Add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","directives","name","rawName","value","expression","errors","collect","model","callback","$$v","title","description","author","categories","category","staticStyle","on","onFileChange","_l","item","$event","preventDefault","validateForm","staticRenderFns","booksApi","categoriesApi","url","files","descrition","cover","$_veeValidate","validator","getCategory","methods","scope","$validator","validateAll","then","async","result","$refs","console","log","formData","FormData","i","Object","keys","append","result2","addBook","data","code","$notificate","showMessage","content","message","color","$router","push","docs","map","_id","e","file","target","length","URL","createObjectURL","component","VBtn","VCardActions","VCard","VCol","VContainer","VRow","VSelect","VTextField"],"mappings":"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","file":"js/chunk-2d21444e.41d9ffe9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"user-add\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('base-v-component',{attrs:{\"heading\":\"Users\",\"link\":\"components/users\"}}),_c('v-col',{staticClass:\"text-left\"},[_c('v-btn',{staticClass:\"mb-5\",attrs:{\"id\":\"myButton\",\"color\":\"primary\",\"to\":\"/books/list\"}},[_vm._v(\"CLick to view user list!\")])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('base-material-card',{staticClass:\"px-5 py-3\",attrs:{\"color\":\"success\",\"icon\":\"mdi-email\",\"title\":\"BOOK ADD FORM\"}},[_c('form',{ref:\"bookForm\",staticClass:\"mt-5\",attrs:{\"id\":\"app\",\"data-vv-scope\":\"form-1\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"color\":\"secondary\",\"error-messages\":_vm.errors.collect('form-1.required'),\"data-vv-name\":\"required\",\"name\":\"title\",\"label\":\"Tittle...\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"color\":\"secondary\",\"error-messages\":_vm.errors.collect('form-1.required'),\"data-vv-name\":\"required\",\"name\":\"description\",\"label\":\"description...\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"color\":\"secondary\",\"error-messages\":_vm.errors.collect('form-1.required'),\"data-vv-name\":\"required\",\"name\":\"author\",\"label\":\"author...\"},model:{value:(_vm.author),callback:function ($$v) {_vm.author=$$v},expression:\"author\"}}),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mb-8\",attrs:{\"color\":\"secondary\",\"items\":_vm.categories,\"item-text\":\"title\",\"item-value\":\"_id\",\"label\":\"category\",\"error-messages\":_vm.errors.collect('form-1.required'),\"data-vv-name\":\"required\"},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}}),_c('v-row',[_c('input',{ref:\"files\",staticStyle:{\"padding-left\":\"12px\"},attrs:{\"type\":\"file\",\"id\":\"cover\",\"name\":\"cover\",\"accept\":\"image/*\",\"multiple\":\"\"},on:{\"change\":_vm.onFileChange}})]),_c('v-row',_vm._l((_vm.url),function(item){return _c('v-col',{attrs:{\"cols\":\"2\"}},[_c('img',{staticStyle:{\"padding\":\"10px\"},attrs:{\"src\":item,\"width\":\"200px\",\"height\":\"200px\"}})])}),1),_c('v-card-actions',{staticClass:\"pl-0\"},[_c('v-btn',{attrs:{\"color\":\"success\",\"min-width\":\"100\"},on:{\"click\":function($event){$event.preventDefault();return _vm.validateForm('form-1')}}},[_vm._v(\"\\n              Submit\\n            \")])],1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container id=\"user-add\" fluid tag=\"section\">\n    <base-v-component heading=\"Users\" link=\"components/users\" />\n    <v-col class=\"text-left\">\n      <v-btn id=\"myButton\" color=\"primary\" class=\"mb-5\" to=\"/books/list\"\n        >CLick to view user list!</v-btn\n      >\n    </v-col>\n    <v-row>\n      <v-col cols=\"12\" md=\"12\">\n        <base-material-card\n          color=\"success\"\n          icon=\"mdi-email\"\n          title=\"BOOK ADD FORM\"\n          class=\"px-5 py-3\"\n        >\n          <form ref=\"bookForm\" class=\"mt-5\" id=\"app\" data-vv-scope=\"form-1\">\n            <v-text-field\n              color=\"secondary\"\n              v-model=\"title\"\n              v-validate=\"'required'\"\n              :error-messages=\"errors.collect('form-1.required')\"\n              data-vv-name=\"required\"\n              name=\"title\"\n              label=\"Tittle...\"\n            />\n            <v-text-field\n              color=\"secondary\"\n              v-model=\"description\"\n              v-validate=\"'required'\"\n              :error-messages=\"errors.collect('form-1.required')\"\n              data-vv-name=\"required\"\n              name=\"description\"\n              label=\"description...\"\n            />\n\n            <v-text-field\n              color=\"secondary\"\n              v-model=\"author\"\n              v-validate=\"'required'\"\n              :error-messages=\"errors.collect('form-1.required')\"\n              data-vv-name=\"required\"\n              name=\"author\"\n              label=\"author...\"\n            />\n            <v-select\n              class=\"mb-8\"\n              color=\"secondary\"\n              v-model=\"category\"\n              v-validate=\"'required'\"\n              :items=\"categories\"\n              item-text=\"title\"\n              item-value=\"_id\"\n              label=\"category\"\n              :error-messages=\"errors.collect('form-1.required')\"\n              data-vv-name=\"required\"\n            ></v-select>\n            <v-row>\n              <input\n                style=\"padding-left: 12px\"\n                ref=\"files\"\n                type=\"file\"\n                id=\"cover\"\n                @change=\"onFileChange\"\n                name=\"cover\"\n                accept=\"image/*\"\n                multiple\n              />\n            </v-row>\n            <v-row>\n              <v-col cols=\"2\" v-for=\"item in url\">\n                <img\n                  :src=\"item\"\n                  width=\"200px\"\n                  height=\"200px\"\n                  style=\"padding: 10px\"\n                />\n              </v-col>\n            </v-row>\n            <v-card-actions class=\"pl-0\">\n              <v-btn\n                color=\"success\"\n                min-width=\"100\"\n                @click.prevent=\"validateForm('form-1')\"\n              >\n                Submit\n              </v-btn>\n            </v-card-actions>\n          </form>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nconst { booksApi, categoriesApi } = require(\"../../../apis\");\n\nexport default {\n  name: \"DashboardUserAddForms\",\n  data() {\n    return {\n      url: [],\n      files: [],\n      title: \"\",\n      descrition: \"\",\n      cover: \"\",\n      author: \"\",\n      category: {},\n      categories: [],\n    };\n  },\n  $_veeValidate: {\n    validator: \"new\",\n  },\n  mounted() {\n    this.getCategory();\n  },\n  methods: {\n    validateForm(scope) {\n      this.$validator.validateAll(scope).then(async (result) => {\n        if (result) {\n          this.files = this.$refs.files.files;\n          console.log(this.files);\n          const formData = new FormData();\n          for (const i of Object.keys(this.files)) {\n            formData.append(\"cover\", this.files[i]);\n          }\n          formData.append(\"title\", this.title);\n          formData.append(\"description\", this.description);\n          formData.append(\"author\", this.author);\n          formData.append(\"category\", this.category);\n          const result2 = await booksApi.addBook(formData);\n          if (result2.data.code === 200) {\n            this.$notificate.showMessage({\n              content: result2.data.message,\n              color: \"info\",\n            });\n            this.$router.push(\"/books/list\");\n          } else {\n            this.$notificate.showMessage({\n              content: result2.data.message,\n              color: \"info\",\n            });\n          }\n        }\n      });\n    },\n    async getCategory() {\n      const result = await categoriesApi.getCategory();\n      if (result.data.code === 200) {\n        result.data.categories.docs.map((item) => this.categories.push({ title: item.title, _id: item._id }));\n      }\n    },\n    onFileChange(e) {\n      this.url = [];\n      const file = e.target.files;\n      for (let i = 0; i < file.length; i++) {\n        this.url.push(URL.createObjectURL(file[i]));\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=f2648e18&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardActions,VCol,VContainer,VRow,VSelect,VTextField})\n"],"sourceRoot":""}