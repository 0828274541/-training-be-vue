(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21444e"],{afe8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{id:"user-add",fluid:"",tag:"section"}},[a("base-v-component",{attrs:{heading:"Users",link:"components/users"}}),a("v-col",{staticClass:"text-left"},[a("v-btn",{staticClass:"mb-5",attrs:{id:"myButton",color:"primary",to:"/books/list"}},[e._v("CLick to view user list!")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"success",icon:"mdi-email",title:"BOOK ADD FORM"}},[a("form",{ref:"bookForm",staticClass:"mt-5",attrs:{id:"app","data-vv-scope":"form-1"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{color:"secondary","error-messages":e.errors.collect("form-1.required"),"data-vv-name":"required",name:"title",label:"Tittle..."},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{color:"secondary","error-messages":e.errors.collect("form-1.required"),"data-vv-name":"required",name:"description",label:"description..."},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{color:"secondary","error-messages":e.errors.collect("form-1.required"),"data-vv-name":"required",name:"author",label:"author..."},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}}),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mb-8",attrs:{color:"secondary",items:e.categories,"item-text":"title","item-value":"_id",label:"category","error-messages":e.errors.collect("form-1.required"),"data-vv-name":"required"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),a("v-row",[a("input",{ref:"files",staticStyle:{"padding-left":"12px"},attrs:{type:"file",id:"cover",name:"cover",accept:"image/*",multiple:""},on:{change:e.onFileChange}})]),a("v-row",e._l(e.url,(function(e){return a("v-col",{attrs:{cols:"2"}},[a("img",{staticStyle:{padding:"10px"},attrs:{src:e,width:"200px",height:"200px"}})])})),1),a("v-card-actions",{staticClass:"pl-0"},[a("v-btn",{attrs:{color:"success","min-width":"100"},on:{click:function(t){return t.preventDefault(),e.validateForm("form-1")}}},[e._v("\n              Submit\n            ")])],1)],1)])],1)],1)],1)},i=[];const{booksApi:s,categoriesApi:o}=a("f8c8");var l={name:"DashboardUserAddForms",data(){return{url:[],files:[],title:"",descrition:"",cover:"",author:"",category:{},categories:[]}},$_veeValidate:{validator:"new"},mounted(){this.getCategory()},methods:{validateForm(e){this.$validator.validateAll(e).then(async e=>{if(e){this.files=this.$refs.files.files,console.log(this.files);const e=new FormData;for(const a of Object.keys(this.files))e.append("cover",this.files[a]);e.append("title",this.title),e.append("description",this.description),e.append("author",this.author),e.append("category",this.category);const t=await s.addBook(e);200===t.data.code?(this.$notificate.showMessage({content:t.data.message,color:"info"}),this.$router.push("/books/list")):this.$notificate.showMessage({content:t.data.message,color:"info"})}})},async getCategory(){const e=await o.getCategory();200===e.data.code&&e.data.categories.docs.map(e=>this.categories.push({title:e.title,_id:e._id}))},onFileChange(e){this.url=[];const t=e.target.files;for(let a=0;a<t.length;a++)this.url.push(URL.createObjectURL(t[a]))}}},c=l,n=a("2877"),d=a("6544"),u=a.n(d),v=a("8336"),m=a("99d9"),p=a("62ad"),f=a("a523"),h=a("0fd9"),g=a("b974"),b=a("8654"),w=Object(n["a"])(c,r,i,!1,null,null,null);t["default"]=w.exports;u()(w,{VBtn:v["a"],VCardActions:m["a"],VCol:p["a"],VContainer:f["a"],VRow:h["a"],VSelect:g["a"],VTextField:b["a"]})}}]);
//# sourceMappingURL=chunk-2d21444e.41d9ffe9.js.map